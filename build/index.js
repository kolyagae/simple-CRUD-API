(()=>{var e={738:(e,t,n)=>{const s=n(147),r=n(17),i=n(37),o=n(968).version,a=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/gm;function d(e){console.log(`[dotenv@${o}][DEBUG] ${e}`)}const c={config:function(e){let t=r.resolve(process.cwd(),".env"),n="utf8";const o=Boolean(e&&e.debug),a=Boolean(e&&e.override);var l;e&&(null!=e.path&&(t="~"===(l=e.path)[0]?r.join(i.homedir(),l.slice(1)):l),null!=e.encoding&&(n=e.encoding));try{const e=c.parse(s.readFileSync(t,{encoding:n}));return Object.keys(e).forEach((function(t){Object.prototype.hasOwnProperty.call(process.env,t)?(!0===a&&(process.env[t]=e[t]),o&&d(!0===a?`"${t}" is already defined in \`process.env\` and WAS overwritten`:`"${t}" is already defined in \`process.env\` and was NOT overwritten`)):process.env[t]=e[t]})),{parsed:e}}catch(e){return o&&d(`Failed to load ${t} ${e.message}`),{error:e}}},parse:function(e){const t={};let n,s=e.toString();for(s=s.replace(/\r\n?/gm,"\n");null!=(n=a.exec(s));){const e=n[1];let s=n[2]||"";s=s.trim();const r=s[0];s=s.replace(/^(['"`])([\s\S]*)\1$/gm,"$2"),'"'===r&&(s=s.replace(/\\n/g,"\n"),s=s.replace(/\\r/g,"\r")),t[e]=s}return t}};e.exports.config=c.config,e.exports.parse=c.parse,e.exports=c},752:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,r)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return r(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),i(n(738)).config();const a=o(n(849)),d=n(167),c=n(616),l=n(295),u=n(688),p=n(144),f=a.default.createServer();f.on("request",((e,t)=>{try{const{method:n,url:s}=e;if("GET"===n&&"/api/users"===s)(0,l.getAllUsers)(e,t);else if("GET"===n&&s?.startsWith("/api/users")&&4===s?.split("/").length){const n=s.split("/")[3];(0,u.getUserById)(e,t,n)}else if("POST"===n&&"/api/users"===s)(0,d.createUser)(e,t);else if("PUT"===n&&s?.startsWith("/api/users")&&4===s?.split("/").length){const n=s.split("/")[3];(0,p.updateDataUser)(e,t,n)}else if("DELETE"===n&&s?.startsWith("/api/users")&&4===s?.split("/").length){const n=s.split("/")[3];(0,c.deleteUser)(e,t,n)}else t.writeHead(404,{"Content-type":"application/json"}),t.end(JSON.stringify({message:"Invalid data in request"}))}catch{t.writeHead(500,{"Content-type":"application/json"}),t.end(JSON.stringify({message:"Sorry, server error, please try again"}))}})),t.default=f},343:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.users=void 0,t.users=[]},607:function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s(n(752)),i=process.env.HOST||"localhost",o=process.env.PORT||4e3;r.default.listen(o,+i,(()=>{console.log(`Server is running at: http://${i}:${o}`)}))},43:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addIdForNewUser=void 0;const s=n(343),r=n(768);t.addIdForNewUser=e=>new Promise((t=>{const n={id:(0,r.v4)(),...e};s.users.push(n),t(n)}))},167:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createUser=void 0;const s=n(436),r=n(193),i=n(43);t.createUser=async(e,t)=>{try{const n=await(0,s.getRequestBody)(e),o=(0,r.validateRequestBody)(n);if(!o)throw new Error;{const{name:e,age:n,hobbies:s}=o,r={name:e,age:n,hobbies:s},a=await(0,i.addIdForNewUser)(r);t.writeHead(201,{"Content-Type":"application/json"}),t.end(JSON.stringify(a))}}catch{t.writeHead(400,{"Content-Type":"application/json"}),t.end(JSON.stringify({message:"The request body does not contain required fields or the fields contain incorrect types"}))}}},616:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteUser=void 0;const s=n(850),r=n(603);t.deleteUser=async(e,t,n)=>{try{const e=await(0,s.findUserById)(n);e?((0,r.remove)(e),t.writeHead(204,{"Content-Type":"application/json"}),t.end()):(t.writeHead(400,{"Content-Type":"application/json"}),t.end(JSON.stringify({message:"Record with this id does not exist"})))}catch{t.writeHead(404,{"Content-Type":"application/json"}),t.end(JSON.stringify({message:"UserId is invalid (not uuid)"}))}}},603:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.remove=void 0;const s=n(343);t.remove=e=>new Promise((t=>{const n=s.users.indexOf(e);s.users.splice(n,1),t()}))},850:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findUserById=void 0;const s=n(343),r=n(768);t.findUserById=e=>new Promise(((t,n)=>{(0,r.validate)(e)?t(s.users.find((t=>t.id===e))):n()}))},740:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findAllUsers=void 0;const s=n(343);t.findAllUsers=()=>new Promise((e=>{e(s.users)}))},295:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAllUsers=void 0;const s=n(740);t.getAllUsers=async(e,t)=>{try{const e=await(0,s.findAllUsers)();t.writeHead(200,{"Content-Type":"application/json"}),t.end(JSON.stringify(e))}catch(e){console.error(e)}}},688:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUserById=void 0;const s=n(850);t.getUserById=async(e,t,n)=>{try{const e=await(0,s.findUserById)(n);e?(t.writeHead(200,{"Content-Type":"application/json"}),t.end(JSON.stringify(e))):(t.writeHead(400,{"Content-Type":"application/json"}),t.end(JSON.stringify({message:"Record with this id does not exist"})))}catch{t.writeHead(404,{"Content-Type":"application/json"}),t.end(JSON.stringify({message:"UserId is invalid (not uuid)"}))}}},436:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRequestBody=void 0,t.getRequestBody=e=>new Promise(((t,n)=>{try{let n="";e.on("data",(e=>{n+=e.toString()})),e.on("end",(async()=>{t(n)}))}catch(e){n(e)}}))},144:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateDataUser=void 0;const s=n(850),r=n(488);t.updateDataUser=async(e,t,n)=>{try{const i=await(0,s.findUserById)(n);if(i){const n=await(0,r.update)(i,e).catch((()=>{t.writeHead(400,{"Content-Type":"application/json"}),t.end(JSON.stringify({message:"The request body does not contain required fields or the fields contain incorrect types"}))}));t.writeHead(200,{"Content-Type":"application/json"}),t.end(JSON.stringify(n))}else t.writeHead(400,{"Content-Type":"application/json"}),t.end(JSON.stringify({message:"Record with this id does not exist"}))}catch{t.writeHead(404,{"Content-Type":"application/json"}),t.end(JSON.stringify({message:"UserId is invalid (not uuid)"}))}}},488:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.update=void 0;const s=n(343),r=n(436),i=n(193);t.update=async(e,t)=>{const n=await(0,r.getRequestBody)(t);return new Promise(((t,r)=>{const o=(0,i.validateRequestBody)(n);if(o){const{name:n,age:r,hobbies:i}=o,a={name:n,age:r,hobbies:i},d=s.users.indexOf(e),c=e.id;s.users[d]={id:c,...a},t(s.users[d])}else r()}))}},193:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateRequestBody=void 0,t.validateRequestBody=e=>{const{name:t,age:n,hobbies:s}=JSON.parse(e),r=["string"==typeof t,"number"==typeof n,Array.isArray(s)&&s.every((e=>"string"==typeof e))||"string"==typeof s],i=t&&n&&s;return!(!r.every((e=>e))||!i)&&{name:t,age:n,hobbies:s}}},768:(e,t,n)=>{"use strict";n.r(t),n.d(t,{NIL:()=>U,parse:()=>h,stringify:()=>p,v1:()=>m,v3:()=>w,v4:()=>O,v5:()=>_,validate:()=>c,version:()=>S});const s=require("crypto");var r=n.n(s);const i=new Uint8Array(256);let o=i.length;function a(){return o>i.length-16&&(r().randomFillSync(i),o=0),i.slice(o,o+=16)}const d=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,c=function(e){return"string"==typeof e&&d.test(e)},l=[];for(let e=0;e<256;++e)l.push((e+256).toString(16).slice(1));function u(e,t=0){return(l[e[t+0]]+l[e[t+1]]+l[e[t+2]]+l[e[t+3]]+"-"+l[e[t+4]]+l[e[t+5]]+"-"+l[e[t+6]]+l[e[t+7]]+"-"+l[e[t+8]]+l[e[t+9]]+"-"+l[e[t+10]]+l[e[t+11]]+l[e[t+12]]+l[e[t+13]]+l[e[t+14]]+l[e[t+15]]).toLowerCase()}const p=function(e,t=0){const n=u(e,t);if(!c(n))throw TypeError("Stringified UUID is invalid");return n};let f,y,v=0,g=0;const m=function(e,t,n){let s=t&&n||0;const r=t||new Array(16);let i=(e=e||{}).node||f,o=void 0!==e.clockseq?e.clockseq:y;if(null==i||null==o){const t=e.random||(e.rng||a)();null==i&&(i=f=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==o&&(o=y=16383&(t[6]<<8|t[7]))}let d=void 0!==e.msecs?e.msecs:Date.now(),c=void 0!==e.nsecs?e.nsecs:g+1;const l=d-v+(c-g)/1e4;if(l<0&&void 0===e.clockseq&&(o=o+1&16383),(l<0||d>v)&&void 0===e.nsecs&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");v=d,g=c,y=o,d+=122192928e5;const p=(1e4*(268435455&d)+c)%4294967296;r[s++]=p>>>24&255,r[s++]=p>>>16&255,r[s++]=p>>>8&255,r[s++]=255&p;const m=d/4294967296*1e4&268435455;r[s++]=m>>>8&255,r[s++]=255&m,r[s++]=m>>>24&15|16,r[s++]=m>>>16&255,r[s++]=o>>>8|128,r[s++]=255&o;for(let e=0;e<6;++e)r[s+e]=i[e];return t||u(r)},h=function(e){if(!c(e))throw TypeError("Invalid UUID");let t;const n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n};function b(e,t,n){function s(e,s,r,i){var o;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof s&&(s=h(s)),16!==(null===(o=s)||void 0===o?void 0:o.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let a=new Uint8Array(16+e.length);if(a.set(s),a.set(e,s.length),a=n(a),a[6]=15&a[6]|t,a[8]=63&a[8]|128,r){i=i||0;for(let e=0;e<16;++e)r[i+e]=a[e];return r}return u(a)}try{s.name=e}catch(e){}return s.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",s.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",s}const w=b("v3",48,(function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),r().createHash("md5").update(e).digest()})),j={randomUUID:r().randomUUID},O=function(e,t,n){if(j.randomUUID&&!t&&!e)return j.randomUUID();const s=(e=e||{}).random||(e.rng||a)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=s[e];return t}return u(s)},_=b("v5",80,(function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),r().createHash("sha1").update(e).digest()})),U="00000000-0000-0000-0000-000000000000",S=function(e){if(!c(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}},147:e=>{"use strict";e.exports=require("fs")},849:e=>{"use strict";e.exports=require("node:http")},37:e=>{"use strict";e.exports=require("os")},17:e=>{"use strict";e.exports=require("path")},968:e=>{"use strict";e.exports=JSON.parse('{"name":"dotenv","version":"16.0.3","description":"Loads environment variables from .env file","main":"lib/main.js","types":"lib/main.d.ts","exports":{".":{"require":"./lib/main.js","types":"./lib/main.d.ts","default":"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},"scripts":{"dts-check":"tsc --project tests/types/tsconfig.json","lint":"standard","lint-readme":"standard-markdown","pretest":"npm run lint && npm run dts-check","test":"tap tests/*.js --100 -Rspec","prerelease":"npm test","release":"standard-version"},"repository":{"type":"git","url":"git://github.com/motdotla/dotenv.git"},"keywords":["dotenv","env",".env","environment","variables","config","settings"],"readmeFilename":"README.md","license":"BSD-2-Clause","devDependencies":{"@types/node":"^17.0.9","decache":"^4.6.1","dtslint":"^3.7.0","sinon":"^12.0.1","standard":"^16.0.4","standard-markdown":"^7.1.0","standard-version":"^9.3.2","tap":"^15.1.6","tar":"^6.1.11","typescript":"^4.5.4"},"engines":{"node":">=12"}}')}},t={};function n(s){var r=t[s];if(void 0!==r)return r.exports;var i=t[s]={exports:{}};return e[s].call(i.exports,i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(607)})();